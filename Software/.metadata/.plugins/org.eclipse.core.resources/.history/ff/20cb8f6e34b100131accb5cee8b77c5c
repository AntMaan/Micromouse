/*
 * control.c
 *
 *  Created on: Mar 21, 2014
 *      Author: Anthony
 */


#include "control.c"
#include "system.h"
#include "drivers/motor.h"
#include "drivers/ir_sensor.h"

Semaphore_Handle drive_straight_sem_handle;
Semaphore_Params drive_straight_sem_params;

void drive_straight(){

	update_motor(RIGHT_MOTOR, CW, 100);
	update_motor(RIGHT_MOTOR, CCW, 100);

	while(1){

	Semaphore_pend(sidepoll_sem_handle, BIOS_WAIT_FOREVER);




	}

}



void side_poll_resume(void){

	// Resume the task
	Semaphore_post(drive_straight_sem_handle);

}
